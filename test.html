<!--
  Copyright (C) 2025 Jema Technology

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jema OS Gallery - Quick Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
            line-height: 1.6;
        }
        
        .header {
            text-align: center;
            background: linear-gradient(135deg, #6569d0, #6569d0);
            color: white;
            padding: 40px 20px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .test-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-section h2 {
            margin-top: 0;
            color: #6569d0;
            border-bottom: 2px solid rgba(101, 105, 208, 0.1);
            padding-bottom: 10px;
        }
        
        .launch-btn {
            display: inline-block;
            background: #6569d0;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 500;
            transition: background 0.2s;
            margin: 10px 10px 10px 0;
        }
        
        .launch-btn:hover {
            background: #6569d0;
        }
        
        .secondary-btn {
            background: #5f6368;
        }
        
        .secondary-btn:hover {
            background: #3c4043;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #6569d0;
        }
        
        .feature-item h3 {
            margin: 0 0 10px 0;
            color: #6569d0;
            font-size: 1em;
        }
        
        .feature-item p {
            margin: 0;
            color: #5f6368;
            font-size: 0.9em;
        }
        
        .test-files {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .test-file {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            border: 2px dashed #ccc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            font-size: 0.8em;
            color: #444444;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .test-file:hover {
            background: rgba(101, 105, 208, 0.15);
            border-color: #6569d0;
        }
        
        .file-icon {
            font-size: 2em;
            margin-bottom: 5px;
        }
        
        .instructions {
            background: rgba(101, 105, 208, 0.1);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #6569d0;
            margin: 20px 0;
        }
        
        .instructions h3 {
            margin-top: 0;
            color: #6569d0;
        }
        
        .instructions ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .instructions li {
            margin: 8px 0;
        }
        
        .shortcut {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
            border: 1px solid #dadce0;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #5f6368;
            border-top: 1px solid #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé® Jema OS Gallery</h1>
        <p>Progressive Web App for viewing images, videos, and audio files</p>
    </div>

    <div class="test-section">
        <h2>üöÄ Quick Launch</h2>
        <p>Ready to experience the Jema OS Gallery? Launch the application:</p>
        
        <a href="index.html" class="launch-btn">Open Gallery</a>
        <button onclick="openGalleryFullscreen()" class="launch-btn secondary-btn">Open Fullscreen</button>
        
        <div class="instructions">
            <h3>üì± Installation (PWA)</h3>
            <p>For the best experience, install as a Progressive Web App:</p>
            <ol>
                <li>Open the gallery in Jema/Edge</li>
                <li>Look for the install icon <span style="background:#6569d0;color:white;padding:2px 6px;border-radius:3px;margin:0 4px;">‚¨áÔ∏è</span> in the address bar</li>
                <li>Click "Install" to add to your desktop/mobile</li>
                <li>Enjoy offline functionality and native app experience!</li>
            </ol>
        </div>
    </div>

    <div class="test-section">
        <h2>‚ú® Features Overview</h2>
        <div class="feature-list">
            <div class="feature-item">
                <h3>üñºÔ∏è Media Support</h3>
                <p>Images (JPEG, PNG, WebP, RAW), Videos (MP4, MKV, AVI), Audio (MP3, FLAC, WAV)</p>
            </div>
            <div class="feature-item">
                <h3>üì± Responsive Design</h3>
                <p>Optimized for desktop, tablet, and mobile with touch gestures</p>
            </div>
            <div class="feature-item">
                <h3>üéÆ Fullscreen Viewer</h3>
                <p>Immersive viewing with navigation, thumbnails, and media controls</p>
            </div>
            <div class="feature-item">
                <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
                <p>Full keyboard navigation and shortcuts for power users</p>
            </div>
            <div class="feature-item">
                <h3>üîç Smart Search</h3>
                <p>Real-time search across filenames with advanced filtering</p>
            </div>
            <div class="feature-item">
                <h3>üíæ Offline Support</h3>
                <p>Works offline with service worker caching and local storage</p>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>üéØ Quick Test Files</h2>
        <p>Click on any file type to test the gallery functionality:</p>
        
        <div class="test-files">
            <button class="test-file" onclick="testImageSupport()">
                <div class="file-icon">üñºÔ∏è</div>
                <div>Image Test</div>
            </button>
            <button class="test-file" onclick="testVideoSupport()">
                <div class="file-icon">üé¨</div>
                <div>Video Test</div>
            </button>
            <button class="test-file" onclick="testAudioSupport()">
                <div class="file-icon">üéµ</div>
                <div>Audio Test</div>
            </button>
            <button class="test-file" onclick="testLargeCollection()">
                <div class="file-icon">üìö</div>
                <div>Large Collection</div>
            </button>
            <button class="test-file" onclick="testFullscreen()">
                <div class="file-icon">üñ•Ô∏è</div>
                <div>Fullscreen Test</div>
            </button>
            <button class="test-file" onclick="testKeyboardShortcuts()">
                <div class="file-icon">‚å®Ô∏è</div>
                <div>Keyboard Test</div>
            </button>
        </div>
    </div>

    <div class="test-section">
        <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
        <div class="feature-list">
            <div class="feature-item">
                <h3>Navigation</h3>
                <p><span class="shortcut">‚Üê/‚Üí</span> Previous/Next file<br>
                <span class="shortcut">Space</span> Play/Pause media<br>
                <span class="shortcut">F</span> Toggle fullscreen</p>
            </div>
            <div class="feature-item">
                <h3>Selection</h3>
                <p><span class="shortcut">Ctrl+A</span> Select all<br>
                <span class="shortcut">Delete</span> Delete selected<br>
                <span class="shortcut">Esc</span> Clear selection</p>
            </div>
            <div class="feature-item">
                <h3>Viewer</h3>
                <p><span class="shortcut">T</span> Toggle controls<br>
                <span class="shortcut">H</span> Toggle thumbnails<br>
                <span class="shortcut">+/-</span> Zoom in/out</p>
            </div>
            <div class="feature-item">
                <h3>Search & Sort</h3>
                <p><span class="shortcut">F</span> Focus search<br>
                <span class="shortcut">Ctrl+G</span> View options<br>
                <span class="shortcut">Ctrl+S</span> Sort options</p>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>üõ†Ô∏è Troubleshooting</h2>
        <div class="instructions">
            <h3>Common Issues</h3>
            <ol>
                <li><strong>Files not loading:</strong> Check file format and size limits</li>
                <li><strong>PWA not installing:</strong> Ensure HTTPS and proper manifest</li>
                <li><strong>Performance issues:</strong> Try smaller grid sizes or list view</li>
                <li><strong>Fullscreen not working:</strong> Check browser permissions</li>
                <li><strong>Touch gestures not working:</strong> Enable touch events in browser</li>
            </ol>
        </div>
        
        <div class="instructions">
            <h3>Debug Mode</h3>
            <p>Open browser console and run <span class="shortcut">window.galleryAppDebug.debug()</span> for detailed system information.</p>
        </div>
    </div>

    <div class="footer">
        <p>Jema OS Gallery PWA v1.0.0</p>
        <p>Built with ‚ù§Ô∏è for the JemaOS community</p>
        <p><a href="README.md" style="color: #6569d0;">View Documentation</a></p>
    </div>

    <script>
        function openGalleryFullscreen() {
            window.open('index.html', '_blank', 'fullscreen=yes,scrollbars=no,menubar=no,toolbar=no,location=no,status=no');
        }

        function testImageSupport() {
            alert('üñºÔ∏è Image Support Test\n\nThe gallery supports:\n‚Ä¢ JPEG, JPG, PNG, GIF, WebP\n‚Ä¢ BMP, SVG, TIFF, ICO\n‚Ä¢ RAW formats (CR2, NEF, ARW, DNG)\n\nTry dragging image files into the gallery!');
        }

        function testVideoSupport() {
            alert('üé¨ Video Support Test\n\nThe gallery supports:\n‚Ä¢ MP4, AVI, MKV, MOV\n‚Ä¢ WMV, FLV, WebM, M4V\n‚Ä¢ 3GP, OGV formats\n\nTry dragging video files to see thumbnails with duration!');
        }

        function testAudioSupport() {
            alert('üéµ Audio Support Test\n\nThe gallery supports:\n‚Ä¢ MP3, WAV, FLAC, AAC\n‚Ä¢ OGG, WMA, M4A, OPUS\n\nAudio files show waveform visualizations!');
        }

        function testLargeCollection() {
            alert('üìö Large Collection Test\n\nFor better performance with many files:\n‚Ä¢ Use list view for large collections\n‚Ä¢ Enable lazy loading\n‚Ä¢ Clear thumbnails cache periodically\n‚Ä¢ Consider file size limits');
        }

        function testFullscreen() {
            alert('üñ•Ô∏è Fullscreen Viewer Test\n\nFeatures:\n‚Ä¢ Click any file to open\n‚Ä¢ Arrow keys for navigation\n‚Ä¢ Double-click or press F for fullscreen\n‚Ä¢ Touch swipe on mobile\n‚Ä¢ Thumbnail strip at bottom\n‚Ä¢ Zoom controls for images');
        }

        function testKeyboardShortcuts() {
            alert('‚å®Ô∏è Keyboard Shortcuts Test\n\nEssential shortcuts:\n‚Ä¢ F - Toggle fullscreen\n‚Ä¢ ‚Üê/‚Üí - Navigate files\n‚Ä¢ Space - Play/Pause\n‚Ä¢ Ctrl+A - Select all\n‚Ä¢ Delete - Remove files\n‚Ä¢ Esc - Exit/clear\n‚Ä¢ T - Toggle controls\n‚Ä¢ H - Toggle thumbnails');
        }

        // Add some visual feedback
        document.querySelectorAll('.test-file').forEach(file => {
            file.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });

        // Check if service worker is supported
        if ('serviceWorker' in navigator) {
            console.log('‚úÖ Service Worker supported - PWA features available');
        } else {
            console.log('‚ùå Service Worker not supported - some features may not work');
        }

        // Check if file system access is supported
        if ('showOpenFilePicker' in globalThis) {
            console.log('‚úÖ File System Access API supported');
        } else {
            console.log('‚ÑπÔ∏è File System Access API not supported - using fallback methods');
        }
    </script>
</body>
</html>